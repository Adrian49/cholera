---
title: "Time Series"
author: "lindbrook"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Time Series}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, echo = FALSE, message = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
library(cholera)
```

## Overview

One of the standard stories regarding the Broad Street pump is that John Snow helped to stem the outbreak by getting the local government to remove the pump's handle.^[https://www.cdc.gov/mmwr/preview/mmwrhtml/mm5334a1.htm].

While Snow likely believed that this would have a positive effect, he was skeptical of its actual effect. This was because by the time the pump was removed on Friday, 08 September 1854, "the epidemic had evidently subsided" (Snow 1855b, 153).

As part of the Vestry Report, both he and the committee included separate tables that recorded the number of fatalities. I have included both as separate data sets, "time.series.snow" and "time.series.vestry", in this package.

The data are plotted below.

## Figures

```{r, fig.width = 5.25, fig.height = 5.25, echo = FALSE}
plot(time.series.vestry$date, time.series.vestry$fatalities, type = "o",
  xlab = "Date", ylab = "fatalities")
abline(v = as.Date("1854-09-08"), col = "red", lty = "dotted")
text(time.series.vestry[time.series.vestry$date == "1854-09-08",
  c("date", "fatalities")], label = "Sep 08", cex = 0.75, col = "red", pos = 4)
title(main = "Vestry Report: Removal of the Broad Street Pump Handle")

```

```{r, fig.width = 5.25, fig.height = 5.25, echo = FALSE}
plot(time.series.snow$date, time.series.snow$deaths, type = "o", xlab = "Date",
  ylab = "fatalities", xlim = range(time.series.vestry$date), ylim = range(time.series.vestry$fatalities))
abline(v = as.Date("1854-09-08"), col = "red", lty = "dotted")
text(time.series.snow[time.series.snow$date == "1854-09-08",
  c("date", "deaths")], label = "Sep 08", cex = 0.75, col = "red", pos = 4)
title(main = "Snow: Removal of the Broad Street Pump Handle")
```
